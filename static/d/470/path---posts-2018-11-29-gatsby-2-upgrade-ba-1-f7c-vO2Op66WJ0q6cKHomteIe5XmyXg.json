{"data":{"markdownRemark":{"html":"<p>In September, <a href=\"https://www.gatsbyjs.org/blog/2018-09-17-gatsby-v2/\">Gatsby 2.0</a> was released.</p>\n<p>I upgraded my site from Jekyll to Gatsby around August, only to find out a month later that a major update happened.<br>\nC'est la vie.</p>\n<p>Recently, I decided to add <a href=\"https://www.typescriptlang.org/\">typescript</a> to my site.</p>\n<p>After a few murky attempts, I realized that among other features, Gatsby 2.0 also has builtin typescript support.</p>\n<p>The update was pretty painless.  Although some changes where required.</p>\n<p><a href=\"https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/\">https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/</a></p>\n<h1>Upgrade Packages</h1>\n<pre><code>-  \"gatsby\": \"^1.9.277\",\n-  \"gatsby-link\": \"^1.6.46\",\n+  \"gatsby\": \"^2.0.0\",\n+  \"gatsby-link\": \"^2.0.7\",\n\n-  \"gatsby-plugin-react-helmet\": \"^2.0.11\",\n-  \"gatsby-plugin-typography\": \"^1.7.19\",\n-  \"gatsby-source-filesystem\": \"^1.5.39\",\n-  \"gatsby-transformer-remark\": \"^1.7.44\",\n-  \"gatsby-transformer-yaml\": \"^1.5.18\",\n+  \"gatsby-plugin-react-helmet\": \"^3.0.3\",\n+  \"gatsby-source-filesystem\": \"^2.0.10\",\n+  \"gatsby-transformer-remark\": \"^2.1.14\",\n+  \"gatsby-transformer-yaml\": \"^2.1.6\",\n\n+  \"prop-types\": \"^15.6.2\",\n+  \"react\": \"^16.6.3\",\n+  \"react-dom\": \"^16.6.3\",\n</code></pre>\n<h1>ESLint</h1>\n<pre><code>Warning: React version not specified in eslint-plugin-react settings. See https://github.com/yannickcr/eslint-plugin-react#configuration.\n</code></pre>\n<pre><code>cat .eslintrc\n  {\n    \"extends\": [\"eslint:recommended\", \"plugin:react/recommended\"]\n  }\n</code></pre>\n<h1>Import GraphQL</h1>\n<p><a href=\"https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/#import-graphql-from-gatsby\">https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/#import-graphql-from-gatsby</a></p>\n<h1>Cleanup Webpack Modules</h1>\n<h1>Move Layout</h1>\n<p><a href=\"https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/#import-graphql-from-gatsby\">https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/#import-graphql-from-gatsby</a></p>\n<p>Had to do this in two places:</p>\n<ul>\n<li>Home Page index had to import Layout</li>\n<li>I already had a ContentPage Layout, so I just imported the base Layout there</li>\n</ul>\n<h1>Remove Explicit Query Names</h1>\n<p><a href=\"https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/#explicit-query-names-no-longer-required\">https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/#explicit-query-names-no-longer-required</a></p>\n<pre><code>export const query = graphql`\n-  query ThisIsExplicitQueryName($slug: String!) {\n+  query($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        title\n      }\n    }\n  }\n</code></pre>\n<h1>Gatsby Source Filesystem</h1>\n<ul>\n<li>\"gatsby-source-filesystem\": \"^2.0.10\",</li>\n</ul>","frontmatter":{"title":"Upgrading richsoni.com to Gatsby 2","hero":"/images/posts/gatsby-logo.jpg"},"fields":{"date":"2018-11-29"}}},"pageContext":{"url":"/posts/2018-11-29-gatsby-2-upgrade/"}}