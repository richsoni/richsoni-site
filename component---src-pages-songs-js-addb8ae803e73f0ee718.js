webpackJsonp([0xf38d25759aed],{86:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var i=n(2),l=r(i),u=n(118),c=r(u),f=!0,d=function(t){var e=t.url,n=t.fields,r=t.attributes;return l.default.createElement("a",{href:e}," ",n.map(function(t){var e=r[t.key];return l.default.createElement("span",{key:t.key}," ",String(e||"")," ")}))},p=function(t,e,n){var r=t.fields,o=t.items,s=n===f?"ASC":"DESC",a=r.find(function(t){return t.key===e});a||console.error("Field Missing ",e);var i=a["sort"+s];return i?o.sort(i):o.sort(function(t,r){var o=t[e],s=r[e],a=0!==o&&!o,i=0!==o&&!o;return a&&i?0:n===f?a?1:i?-1:"string"==typeof o&&"string"==typeof s?o.localeCompare(s):o-s:i?1:a?-1:"string"==typeof o&&"string"==typeof s?s.localeCompare(o):s-o})},m=function(t,e,n){var r=t===e.key;return r&&n===f?c.default.titleSortingASC:r&&n!==f?c.default.titleSortingDESC:c.default.titleNotSorting},y=function(t){function e(n){o(this,e);var r=s(this,t.call(this,n)),a=n.sortDefaultKey||n.fields[0].key,i=n.sortDefaultDirection||f,l=p(n,a,i);return r.state={sortKey:a,sortDirection:i,items:l},r.changeSort=r.changeSort.bind(r),r}return a(e,t),e.prototype.changeSort=function(t){return this.state.sortKey===t.key?this.setState({sortDirection:!this.state.sortDirection}):void this.setState({sortKey:t.key,sortDirection:f})},e.prototype.render=function(){var t=this,e=this.props.fields,n=this.state.items;return l.default.createElement("div",{className:c.default.table},l.default.createElement("header",null,e.map(function(e){return l.default.createElement("span",{key:e.key,className:m(t.state.sortKey,e,t.state.sortDirection),onClick:function(){return t.changeSort(e)}},e.title)})),n.map(function(t){return l.default.createElement(d,{key:t.key,url:t.url,fields:e,attributes:t})}))},e.prototype.componentDidUpdate=function(t,e){e.sortKey===this.state.sortKey&&e.sortDirection===this.state.sortDirection||this.setState({items:p(this.props,this.state.sortKey,this.state.sortDirection)})},e.prototype.componentWillReceiveProps=function(t){this.setState({items:p(t,this.state.sortKey,this.state.sortDirection)})},e}(l.default.Component);e.default=y,t.exports=e.default},118:function(t,e){t.exports={emptyField:"src-components-Table----styles-module---emptyField---1_Vrs",table:"src-components-Table----styles-module---table---2WI1a",titleSortingASC:"src-components-Table----styles-module---titleSortingASC---3RbMu",titleSortingDESC:"src-components-Table----styles-module---titleSortingDESC---308zs",titleNotSorting:"src-components-Table----styles-module---titleNotSorting---2MF1S"}},87:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var i=n(2),l=r(i),u=n(119),c=r(u),f=function(t){function e(n){o(this,e);var r=s(this,t.call(this,n));return r.state={activeTab:0},r}return a(e,t),e.prototype.render=function(){var t=this;return l.default.createElement("div",null,l.default.createElement("div",{className:c.default.tabs},this.props.tabs.map(function(e,n){var r=t.state.activeTab===n?c.default.activeTab:c.default.tab;return l.default.createElement("div",{key:e.title,className:r,onClick:function(){t.setState({activeTab:n})}},e.title)})),l.default.createElement("div",null,this.props.tabs[this.state.activeTab].content()))},e}(l.default.Component);e.default=f,t.exports=e.default},119:function(t,e){t.exports={tabs:"src-components-Tabs----styles-module---tabs---3owAb",tab:"src-components-Tabs----styles-module---tab---1osZO",activeTab:"src-components-Tabs----styles-module---activeTab---2Ievr src-components-Tabs----styles-module---tab---1osZO"}},241:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.query=void 0;var i=n(2),l=r(i),u=n(75),c=(r(u),n(120)),f=(r(c),n(86)),d=r(f),p=n(87),m=r(p),y=n(89),b=n(28),h=r(b),S=n(61),v=n(19),M=r(v),C=n(18),E=[{title:"Song",key:"title"},{title:"Artists",key:"artists"},{title:"Date Composed",key:"composedAt",sortASC:(0,y.sortObjMomentASC)("composedAtMoment"),sortDESC:(0,y.sortObjMomentDESC)("composedAtMoment")},{title:"Times Played",key:"performanceCount"},{title:"First Performed",key:"firstPerformance",sortASC:(0,y.sortObjMomentASC)("firstPerformanceMoment"),sortDESC:(0,y.sortObjMomentDESC)("firstPerformanceMoment")},{title:"Last Performed",key:"lastPerformance",sortASC:(0,y.sortObjMomentASC)("lastPerformanceMoment"),sortDESC:(0,y.sortObjMomentDESC)("lastPerformanceMoment")}],g=function(t){var e=t.data.songs.edges.map(function(t){return t.node}),n=(0,S.eventsBySong)(t.data.events,t.data.songs);return e.map(function(t){var e=t.frontmatter.artists.sort().join(", "),r=(0,h.default)(t.frontmatter.composed_at),o=n[t.fields.basename]||[],s=o[o.length-1],a=(0,h.default)(s),i=o[0],l=(0,h.default)(i);return{title:t.frontmatter.title,composedAt:r?r.format("YYYY-MM-DD"):null,artists:e,isMine:!!e.match("Rich Soni"),composedAtMoment:r,url:t.fields.url,performanceCount:o.length,firstPerformanceMoment:a,firstPerformance:s,lastPerformanceMoment:l,lastPerformance:i,key:t.id}})},D=function(t){function e(){return o(this,e),s(this,t.apply(this,arguments))}return a(e,t),e.prototype.render=function(){return l.default.createElement(M.default,null,l.default.createElement(C.Breadcrumbs,null,l.default.createElement(C.Breadcrumb,null,"Songs")),l.default.createElement(m.default,{tabs:this.tabs()}))},e.prototype.tabs=function(){var t=g(this.props);return[{content:function(){return l.default.createElement(d.default,{fields:E,items:t})},title:"All"},{content:function(){return l.default.createElement(d.default,{fields:E,items:t.filter(function(t){return t.isMine})})},title:"Originals"},{content:function(){return l.default.createElement(d.default,{fields:E,items:t.filter(function(t){return!t.isMine})})},title:"Covers"}]},e}(l.default.Component);e.default=D;e.query="** extracted graphql fragment **"},120:function(t,e){t.exports={container:"src-pages----style-module---container---1TCtv",postList:"src-pages----style-module---postList---vdNE9",inactiveStack:"src-pages----style-module---inactiveStack---4vnsy",controlBar:"src-pages----style-module---controlBar---1D8nb"}},28:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(16),s=r(o);e.default=function(t){var e="YYYY-MM-DD HH:mm:ss Z";if(!t)return null;t.match(/\d\d\d\d-\d\d-\d\d/)&&(e="YYYY-MM-DD");var n=s.default.utc(t,e);return n.isValid()?n:null},t.exports=e.default},89:function(t,e){"use strict";e.__esModule=!0;var n=e.sortMomentASC=function(t,e){return t?e?t||e?t-e:0:-1:1},r=e.sortMomentDESC=function(t,e){return n(e,t)};e.sortObjMomentASC=function(t){return function(e,r){return n(e[t],r[t])}},e.sortObjMomentDESC=function(t){return function(e,n){return r(e[t],n[t])}}}});
//# sourceMappingURL=component---src-pages-songs-js-addb8ae803e73f0ee718.js.map